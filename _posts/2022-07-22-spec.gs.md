---
title: 濃度時序圖之GrADs腳本spec.gs
tags: GrADS timeseriese
layout: article
aside:
  toc: true
sidebar:
  nav: layouts
date:  2022-07-22
modify_date: 2022-07-22 21:40:09
mermaid: true
---
## 背景
- 此一腳本在一頁A4版面內繪製8個測站的濃度時序圖
- 腳本是以[模版](https://github.com/sinotec2/camxruns/blob/master/spec.gs.BLK)形式儲存。模版內可更動的變數為
  - 第三行的spe：污染物名稱
  - 可能的污染物名稱：包括在[epa.ctl](https://github.com/sinotec2/camxruns/blob/master/epa.ctl.BLK)檔案中（`so2 cmo ozn pmt nox p25 no2 voc`）
- 控制修改模版與執行grads的程式：[sss.cs](https://sinotec2.github.io/FAQ/2022/07/21/ovm2grads.html#ssscs流程)

## 分段說明
```gs
<<<<<<< HEAD
'reinit'
'clear'
SPE=spe
"open epa.ctl"
"q file 1"
rec = sublin(result,5)
HHH = subwrd(rec,3)
i=1
while(i<=8)
ii=(i*2-1)+6
rec = sublin(result,ii)
sso = subwrd(rec,1)
sss = substr(sso,1,3)
if(sss=SPE)
spnm=subwrd(rec,4)
spun=subwrd(rec,5)
endif
i=i+1
endwhile
```